import{a3 as A,ab as D,I as B,u as T,a8 as $,N as C,l as M,M as N,m as j,f as L,r as m,o as r,j as d,h as a,a as s,c as I,F as V,i as z,z as g,t as f,x as n,Q as h,g as E}from"./main.39f33818.js";const F=["onClick"],q={__name:"EstimateIndexDropdown",props:{statusActions:{type:Array,default:null,required:!1},row:{type:Object,default:null},table:{type:Object,default:null}},setup(l){const y=l;A("utils");const _=D();B(),T();const v=$(),p=C(),{t:u}=M(),b=N(),k=j();L(()=>{console.log(y.statusActions)});async function x(e){v.openDialog({title:u("general.are_you_sure"),message:u("estimates.confirm_delete"),yesLabel:u("general.ok"),noLabel:u("general.cancel"),variant:"danger",hideNoButton:!1,size:"lg"}).then(c=>{e=e,c&&_.deleteEstimate({ids:[e]}).then(t=>{t&&(y.table&&y.table.refresh(),t.data&&k.push("/admin/estimates"),_.$patch(o=>{o.selectedEstimates=[],o.selectAllField=!1}))})})}return(e,c)=>{const t=m("BaseIcon"),o=m("BaseDropdownItem"),w=m("router-link"),S=m("BaseDropdown");return r(),d(S,null,{activator:a(()=>[s(t,{class:"text-gray-500",name:"DotsHorizontalIcon"})]),default:a(()=>[(r(!0),I(V,null,z(l.statusActions,i=>(r(),I("div",{key:i.action,onClick:O=>e.$emit("actionExecute",i.action)},[s(o,null,{default:a(()=>[s(t,{name:i.icon,class:"w-5 h-5 mr-3 text-gray-400 group-hover:text-gray-500"},null,8,["name"]),g(" "+f(i.label),1)]),_:2},1024)],8,F))),128)),n(p).hasAbilities(n(h).EDIT_ESTIMATE)?(r(),d(w,{key:0,to:`/admin/estimates/${l.row.id}/edit`},{default:a(()=>[s(o,null,{default:a(()=>[s(t,{name:"PencilIcon",class:"w-5 h-5 mr-3 text-gray-400 group-hover:text-gray-500"}),g(" "+f(e.$t("general.edit")),1)]),_:1})]),_:1},8,["to"])):E("",!0),n(p).hasAbilities(n(h).DELETE_ESTIMATE)?(r(),d(o,{key:1,onClick:c[0]||(c[0]=i=>x(l.row.id))},{default:a(()=>[s(t,{name:"TrashIcon",class:"w-5 h-5 mr-3 text-gray-400 group-hover:text-gray-500"}),g(" "+f(e.$t("general.delete")),1)]),_:1})):E("",!0),n(b).name!=="estimates.view"&&n(p).hasAbilities(n(h).VIEW_ESTIMATE)?(r(),d(w,{key:2,to:`estimates/${l.row.id}/view`},{default:a(()=>[s(o,null,{default:a(()=>[s(t,{name:"EyeIcon",class:"w-5 h-5 mr-3 text-gray-400 group-hover:text-gray-500"}),g(" "+f(e.$t("general.view")),1)]),_:1})]),_:1},8,["to"])):E("",!0)]),_:1})}}};export{q as _};
