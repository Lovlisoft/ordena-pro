import{_ as K,o as i,c as F,$ as R,a3 as nt,ab as Y,a8 as tt,N as W,l as et,m as at,r as z,j as E,h as o,a as r,x as _,Q as Z,z as I,t as l,g as k,d as f,f as it,e as v,E as G,b as t,aO as ct,w as ot,aP as Q,n as st,aI as lt,I as rt,M as dt,K as ht,an as ut,aQ as J,F as mt}from"./main.46618cdf.js";import{_ as pt}from"./EstimateIndexDropdown.d2da4e64.js";const ft={},vt={version:"1.1",id:"Layer_1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 512 512","xml:space":"preserve"},yt=R(`<path style="fill:#F2F2F2;" d="M509.653,113.512l-85.511-85.511c-1.505-1.503-3.543-2.347-5.669-2.347H93.528
	c-4.428,0-8.017,3.588-8.017,8.017v470.313c0,4.428,3.588,8.017,8.017,8.017h410.455c4.428,0,8.017-3.588,8.017-8.017V119.182
	C512,117.056,511.156,115.017,509.653,113.512z"></path><g><path style="fill:#E5E5E5;" d="M511.982,118.826c-0.089-1.996-0.912-3.893-2.33-5.312L424.14,28.002
		c-1.504-1.504-3.542-2.348-5.668-2.348h-0.356v85.156c0,4.427,3.589,8.017,8.017,8.017H511.982z"></path><path style="fill:#E5E5E5;" d="M93.528,25.653c-4.428,0-8.017,3.588-8.017,8.017v470.313c0,4.428,3.588,8.017,8.017,8.017h375.888
		L136.144,25.653H93.528z"></path></g><path style="fill:#666666;" d="M214.313,0H24.05C10.789,0,0,10.789,0,24.05v258.672c0,13.261,10.789,24.05,24.05,24.05h190.263
	c13.261,0,24.05-10.789,24.05-24.05V24.05C238.363,10.789,227.574,0,214.313,0z"></path><path style="fill:#F7D04A;" d="M358.614,247.983c-65.717,0-119.182,53.465-119.182,119.182s53.465,119.182,119.182,119.182
	s119.182-53.465,119.182-119.182S424.33,247.983,358.614,247.983z"></path><path style="fill:#F3B41B;" d="M382.129,462.831c-65.717,0-119.182-53.465-119.182-119.182c0-26.875,8.946-51.698,24.009-71.656
	c-28.845,21.772-47.525,56.331-47.525,95.172c0,65.717,53.465,119.182,119.182,119.182c38.841,0,73.4-18.68,95.172-47.525
	C433.828,453.885,409.005,462.831,382.129,462.831z"></path><path style="fill:#EB6836;" d="M376.915,360.217l-12.423-0.366v-44.528h28.326c4.428,0,8.017-3.588,8.017-8.017
	c0-4.428-3.588-8.017-8.017-8.017h-28.326v-9.086c0-4.428-3.588-8.017-8.017-8.017c-4.428,0-8.017,3.588-8.017,8.017v9.086h-8.017
	c-13.261,0-24.05,10.789-24.05,24.05v27.791c0,13.217,10.719,23.98,23.92,24.05l8.147,0.239v43.585h-24.05
	c-4.428,0-8.017,3.588-8.017,8.017s3.588,8.017,8.017,8.017h24.05v9.086c0,4.428,3.588,8.017,8.017,8.017
	c4.428,0,8.017-3.588,8.017-8.017v-9.086h12.292c13.261,0,24.05-10.789,24.05-24.05v-26.722
	C400.835,371.05,390.116,360.288,376.915,360.217z M340.679,359.151c-0.078-0.002-0.157-0.003-0.236-0.003
	c-4.421,0-8.017-3.596-8.017-8.017V323.34c0-4.421,3.596-8.017,8.017-8.017h8.017v44.057L340.679,359.151z M384.802,410.99
	c0,4.421-3.596,8.017-8.017,8.017h-12.292v-43.114l12.056,0.355c0.078,0.002,0.157,0.003,0.236,0.003
	c4.421,0,8.017,3.596,8.017,8.017V410.99z"></path><path style="fill:#F2F2F2;" d="M204.693,25.653H33.67c-4.428,0-8.017,3.588-8.017,8.017v42.756c0,4.428,3.588,8.017,8.017,8.017
	h171.023c4.428,0,8.017-3.588,8.017-8.017V33.67C212.71,29.242,209.122,25.653,204.693,25.653z"></path><g><path style="fill:#62C9CC;" d="M33.67,25.653c-4.428,0-8.017,3.588-8.017,8.017v42.756c0,4.428,3.588,8.017,8.017,8.017h34.739
		l58.789-58.789H33.67z"></path><path style="fill:#62C9CC;" d="M204.693,25.653h-29.929l-58.789,58.789h88.718c4.428,0,8.017-3.588,8.017-8.017V33.67
		C212.71,29.242,209.122,25.653,204.693,25.653z"></path></g><g><path style="fill:#EF9D3C;" d="M67.875,94.063H33.67c-4.428,0-8.017,3.588-8.017,8.017v34.205c0,4.428,3.588,8.017,8.017,8.017
		h34.205c4.428,0,8.017-3.588,8.017-8.017v-34.205C75.891,97.651,72.303,94.063,67.875,94.063z"></path><path style="fill:#EF9D3C;" d="M135.749,94.063h-34.205c-4.428,0-8.017,3.588-8.017,8.017v34.205c0,4.428,3.588,8.017,8.017,8.017
		h34.205c4.428,0,8.017-3.588,8.017-8.017v-34.205C143.766,97.651,140.178,94.063,135.749,94.063z"></path><path style="fill:#EF9D3C;" d="M67.875,162.472H33.67c-4.428,0-8.017,3.588-8.017,8.017v34.205c0,4.428,3.588,8.017,8.017,8.017
		h34.205c4.428,0,8.017-3.588,8.017-8.017v-34.205C75.891,166.06,72.303,162.472,67.875,162.472z"></path><path style="fill:#EF9D3C;" d="M135.749,162.472h-34.205c-4.428,0-8.017,3.588-8.017,8.017v34.205c0,4.428,3.588,8.017,8.017,8.017
		h34.205c4.428,0,8.017-3.588,8.017-8.017v-34.205C143.766,166.06,140.178,162.472,135.749,162.472z"></path><path style="fill:#EF9D3C;" d="M67.875,230.881H33.67c-4.428,0-8.017,3.588-8.017,8.017v34.205c0,4.428,3.588,8.017,8.017,8.017
		h34.205c4.428,0,8.017-3.588,8.017-8.017v-34.205C75.891,234.469,72.303,230.881,67.875,230.881z"></path><path style="fill:#EF9D3C;" d="M135.749,230.881h-34.205c-4.428,0-8.017,3.588-8.017,8.017v34.205c0,4.428,3.588,8.017,8.017,8.017
		h34.205c4.428,0,8.017-3.588,8.017-8.017v-34.205C143.766,234.469,140.178,230.881,135.749,230.881z"></path><path style="fill:#EF9D3C;" d="M204.159,94.063h-34.205c-4.428,0-8.017,3.588-8.017,8.017v34.205c0,4.428,3.588,8.017,8.017,8.017
		h34.205c4.428,0,8.017-3.588,8.017-8.017v-34.205C212.175,97.651,208.587,94.063,204.159,94.063z"></path></g><path style="fill:#F7D04A;" d="M204.693,162.472h-34.205c-4.428,0-8.017,3.588-8.017,8.017v102.614c0,4.428,3.588,8.017,8.017,8.017
	h34.205c4.428,0,8.017-3.588,8.017-8.017V170.489C212.71,166.06,209.122,162.472,204.693,162.472z"></path><path style="fill:#666666;" d="M297.846,92.994c-2.183,0-4.358-0.886-5.941-2.632l-15.51-17.102
	c-2.974-3.279-2.727-8.35,0.554-11.324c3.276-2.976,8.349-2.729,11.324,0.554l15.51,17.102c2.974,3.279,2.727,8.35-0.554,11.324
	C301.695,92.308,299.767,92.994,297.846,92.994z"></path><g><path style="fill:#62C9CC;" d="M464.11,214.126L336.377,86.391c-1.12-1.119-2.545-1.882-4.097-2.192l-30.233-6.046
		c-2.627-0.522-5.344,0.297-7.241,2.192c-1.894,1.895-2.717,4.612-2.192,7.241l6.046,30.233c0.31,1.552,1.073,2.977,2.192,4.097
		l127.735,127.735c5.116,5.116,12.417,7.67,19.607,6.89c6.428-0.697,11.449-3.932,15.917-8.402
		C473.488,238.761,473.488,223.505,464.11,214.126z"></path><rect x="300.46" y="122.86" transform="matrix(-0.7071 -0.7071 0.7071 -0.7071 514.0678 508.8909)" style="fill:#62C9CC;" width="123.937" height="50.238"></rect></g><path style="fill:#F7D04A;" d="M302.047,78.153c-5.513-1.096-10.535,3.916-9.433,9.433l6.046,30.233
	c0.31,1.552,1.073,2.977,2.192,4.097l35.525-35.525c-1.12-1.119-2.545-1.882-4.097-2.192L302.047,78.153z"></path><path style="fill:#50A9A9;" d="M464.11,214.126l-40.095-40.095l-35.525,35.525l40.095,40.095c5.021,5.021,12.2,7.479,19.248,6.84
	c6.562-0.595,11.719-3.795,16.276-8.351C473.488,238.761,473.488,223.505,464.11,214.126z"></path><path style="fill:#666666;" d="M451.639,221.01c-2.051,0-4.103-0.782-5.669-2.347c-3.131-3.132-3.131-8.207,0-11.338l12.323-12.322
	l-37.701-35.802c-3.211-3.05-3.342-8.124-0.293-11.333c3.051-3.211,8.125-3.342,11.333-0.293l43.668,41.467
	c1.568,1.489,2.469,3.548,2.496,5.71c0.028,2.161-0.819,4.243-2.346,5.772l-18.14,18.14
	C455.742,220.226,453.69,221.01,451.639,221.01z"></path><g><path style="fill:#808080;" d="M198.28,383.733h-53.445c-4.428,0-8.017-3.588-8.017-8.017c0-4.428,3.588-8.017,8.017-8.017h53.445
		c4.428,0,8.017,3.588,8.017,8.017C206.296,380.145,202.708,383.733,198.28,383.733z"></path><path style="fill:#808080;" d="M198.28,426.489h-53.445c-4.428,0-8.017-3.588-8.017-8.017s3.588-8.017,8.017-8.017h53.445
		c4.428,0,8.017,3.588,8.017,8.017S202.708,426.489,198.28,426.489z"></path></g>`,16),gt=[yt];function _t(e,$){return i(),F("svg",vt,gt)}var xt=K(ft,[["render",_t]]);const wt={},Ct={version:"1.1",id:"Layer_1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 512 512","xml:space":"preserve"},Mt=R(`<path style="fill:#FFDFB3;" d="M389.565,512.001c-2.554,0-5.12-0.587-7.467-1.761l-59.315-29.658l-59.315,29.658
	c-4.696,2.347-10.239,2.347-14.935,0l-59.315-29.658l-59.315,29.658c-4.696,2.347-10.239,2.347-14.935,0l-66.782-33.391
	c-5.652-2.832-9.228-8.609-9.228-14.935V16.697c0-5.788,3-11.157,7.913-14.201c4.935-3.043,11.076-3.316,16.25-0.733l59.315,29.657
	L181.75,1.761c4.696-2.347,10.239-2.347,14.935,0L256,31.42l59.315-29.658c4.696-2.347,10.239-2.347,14.935,0l59.315,29.658
	L448.88,1.761c5.173-2.587,11.315-2.31,16.25,0.733c4.913,3.044,7.913,8.413,7.913,14.202v445.216
	c0,6.327-3.576,12.103-9.228,14.935l-66.782,33.391C394.685,511.413,392.12,512.001,389.565,512.001z"></path><path style="fill:#FFCC99;" d="M263.468,510.24l59.315-29.658l59.315,29.658c2.347,1.174,4.913,1.761,7.467,1.761
	s5.12-0.587,7.467-1.761l66.782-33.391c5.652-2.832,9.228-8.608,9.228-14.935V16.697c0-5.788-3-11.157-7.913-14.201
	c-4.935-3.043-11.076-3.32-16.25-0.733L389.565,31.42L330.25,1.763c-4.696-2.347-10.239-2.347-14.935,0L256,31.42v480.58
	C258.56,512.001,261.12,511.413,263.468,510.24z"></path><g><path style="fill:#A6673A;" d="M122.435,411.827H89.044c-9.217,0-16.696-7.473-16.696-16.696c0-9.223,7.479-16.696,16.696-16.696
		h33.391c9.217,0,16.696,7.473,16.696,16.696C139.131,404.354,131.654,411.827,122.435,411.827z"></path><path style="fill:#A6673A;" d="M222.609,411.827h-33.391c-9.217,0-16.696-7.473-16.696-16.696c0-9.223,7.479-16.696,16.696-16.696
		h33.391c9.217,0,16.696,7.473,16.696,16.696C239.305,404.354,231.827,411.827,222.609,411.827z"></path></g><g><path style="fill:#99522E;" d="M322.783,411.827h-33.391c-9.217,0-16.696-7.473-16.696-16.696c0-9.223,7.479-16.696,16.696-16.696
		h33.391c9.217,0,16.696,7.473,16.696,16.696C339.478,404.354,332.001,411.827,322.783,411.827z"></path><path style="fill:#99522E;" d="M422.956,411.827h-33.391c-9.217,0-16.696-7.473-16.696-16.696c0-9.223,7.479-16.696,16.696-16.696
		h33.391c9.217,0,16.696,7.473,16.696,16.696C439.652,404.354,432.175,411.827,422.956,411.827z"></path></g><g><path style="fill:#A6673A;" d="M211.479,133.567h-89.043c-9.217,0-16.696-7.473-16.696-16.696s7.479-16.696,16.696-16.696h89.043
		c9.217,0,16.696,7.473,16.696,16.696S220.697,133.567,211.479,133.567z"></path><path style="fill:#A6673A;" d="M211.479,200.349h-89.043c-9.217,0-16.696-7.473-16.696-16.696s7.479-16.696,16.696-16.696h89.043
		c9.217,0,16.696,7.473,16.696,16.696S220.697,200.349,211.479,200.349z"></path><path style="fill:#A6673A;" d="M211.479,267.132h-89.043c-9.217,0-16.696-7.473-16.696-16.696s7.479-16.696,16.696-16.696h89.043
		c9.217,0,16.696,7.473,16.696,16.696S220.697,267.132,211.479,267.132z"></path><path style="fill:#A6673A;" d="M211.479,333.914h-89.043c-9.217,0-16.696-7.473-16.696-16.696c0-9.223,7.479-16.696,16.696-16.696
		h89.043c9.217,0,16.696,7.473,16.696,16.696C228.174,326.441,220.697,333.914,211.479,333.914z"></path></g><path style="fill:#99522E;" d="M352.848,191.159c-17.521-9.262-35.631-18.837-35.631-29.766c0-15.342,12.478-27.826,27.826-27.826
	s27.826,12.484,27.826,27.826c0,9.223,7.479,16.696,16.696,16.696s16.696-7.473,16.696-16.696c0-27.961-18.869-51.55-44.522-58.843
	V94.61c0-9.223-7.479-16.696-16.696-16.696s-16.696,7.473-16.696,16.696v7.939c-25.652,7.293-44.522,30.882-44.522,58.843
	c0,31.049,29.619,46.707,53.413,59.288c17.523,9.255,35.631,18.83,35.631,29.755c0,15.342-12.478,27.826-27.826,27.826
	s-27.826-12.484-27.826-27.826c0-9.223-7.479-16.696-16.696-16.696s-16.696,7.473-16.696,16.696
	c0,27.961,18.869,51.551,44.522,58.843v7.939c0,9.223,7.479,16.696,16.696,16.696s16.696-7.473,16.696-16.696v-7.939
	c25.652-7.293,44.522-30.882,44.522-58.843C406.261,219.392,376.642,203.735,352.848,191.159z"></path>`,6),Ft=[Mt];function bt(e,$){return i(),F("svg",Ct,Ft)}var It=K(wt,[["render",bt]]);const zt={},Et={version:"1.1",id:"Layer_1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 512 512","xml:space":"preserve"},kt=R(`<path style="fill:#ECEDEF;" d="M100.641,0c-14.139,0-25.6,11.461-25.6,25.6v460.8c0,14.139,11.461,25.6,25.6,25.6h375.467
	c14.139,0,25.6-11.461,25.6-25.6V85.333L416.375,0H100.641z"></path><path style="fill:#D9DCDF;" d="M441.975,85.333h59.733L416.375,0v59.733C416.375,73.872,427.836,85.333,441.975,85.333z"></path><path style="fill:#C6CACF;" d="M399.308,42.667H75.041v153.6h324.267c4.713,0,8.533-3.821,8.533-8.533V51.2
	C407.841,46.487,404.02,42.667,399.308,42.667z"></path><path style="fill:#68727E;" d="M382.241,179.2H18.843c-7.602,0-11.41-9.191-6.034-14.567L75.041,102.4L12.809,40.167
	C7.433,34.791,11.241,25.6,18.843,25.6h363.398c4.713,0,8.533,3.821,8.533,8.533v136.533
	C390.775,175.379,386.954,179.2,382.241,179.2z"></path><g><path style="fill:#FFFFFF;" d="M203.041,76.8h-34.133c-4.713,0-8.533,3.821-8.533,8.533v51.2c0,4.713,3.821,8.533,8.533,8.533
		c4.713,0,8.533-3.821,8.533-8.533v-17.067h25.6c4.713,0,8.533-3.821,8.533-8.533v-25.6C211.575,80.621,207.755,76.8,203.041,76.8z
		 M194.508,102.4h-17.067v-8.533h17.067V102.4z"></path><path style="fill:#FFFFFF;" d="M245.708,76.8h-17.067c-4.713,0-8.533,3.821-8.533,8.533v51.2c0,4.713,3.821,8.533,8.533,8.533
		h34.133c4.713,0,8.533-3.821,8.533-8.533V102.4C271.308,88.284,259.824,76.8,245.708,76.8z M254.241,128h-17.067V93.867h8.533
		c4.705,0,8.533,3.828,8.533,8.533V128z"></path><path style="fill:#FFFFFF;" d="M322.508,76.8h-34.133c-4.713,0-8.533,3.821-8.533,8.533v51.2c0,4.713,3.821,8.533,8.533,8.533
		s8.533-3.821,8.533-8.533v-17.067h17.067c4.713,0,8.533-3.821,8.533-8.533s-3.821-8.533-8.533-8.533h-17.067v-8.533h25.6
		c4.713,0,8.533-3.821,8.533-8.533S327.22,76.8,322.508,76.8z"></path></g><path style="fill:#C6CACF;" d="M416.375,469.333h-256c-4.713,0-8.533-3.821-8.533-8.533V221.867c0-4.713,3.821-8.533,8.533-8.533
	h256c4.713,0,8.533,3.821,8.533,8.533V460.8C424.908,465.513,421.087,469.333,416.375,469.333z"></path><path style="fill:#B3B9BF;" d="M168.908,452.267V213.333h-8.533c-4.713,0-8.533,3.821-8.533,8.533V460.8
	c0,4.713,3.821,8.533,8.533,8.533h256c4.713,0,8.533-3.821,8.533-8.533v-8.533H168.908z"></path><path style="fill:#DB6B5E;" d="M390.775,435.2h-93.867c-4.713,0-8.533-3.821-8.533-8.533v-102.4c0-4.713,3.821-8.533,8.533-8.533
	h93.867c4.713,0,8.533,3.821,8.533,8.533v102.4C399.308,431.379,395.487,435.2,390.775,435.2z"></path><rect x="305.44" y="332.8" style="fill:#FF8C78;" width="76.8" height="85.333"></rect><g><path style="fill:#8E959F;" d="M390.775,264.533h-93.867c-4.713,0-8.533-3.821-8.533-8.533c0-4.713,3.821-8.533,8.533-8.533h93.867
		c4.713,0,8.533,3.821,8.533,8.533C399.308,260.713,395.487,264.533,390.775,264.533z"></path><path style="fill:#8E959F;" d="M390.775,298.667h-93.867c-4.713,0-8.533-3.821-8.533-8.533c0-4.713,3.821-8.533,8.533-8.533h93.867
		c4.713,0,8.533,3.821,8.533,8.533C399.308,294.846,395.487,298.667,390.775,298.667z"></path><path style="fill:#8E959F;" d="M271.308,264.533h-85.333c-4.713,0-8.533-3.821-8.533-8.533c0-4.713,3.821-8.533,8.533-8.533h85.333
		c4.713,0,8.533,3.821,8.533,8.533C279.841,260.713,276.02,264.533,271.308,264.533z"></path><path style="fill:#8E959F;" d="M271.308,298.667h-85.333c-4.713,0-8.533-3.821-8.533-8.533c0-4.713,3.821-8.533,8.533-8.533h85.333
		c4.713,0,8.533,3.821,8.533,8.533C279.841,294.846,276.02,298.667,271.308,298.667z"></path><path style="fill:#8E959F;" d="M271.308,332.8h-85.333c-4.713,0-8.533-3.821-8.533-8.533c0-4.713,3.821-8.533,8.533-8.533h85.333
		c4.713,0,8.533,3.821,8.533,8.533C279.841,328.979,276.02,332.8,271.308,332.8z"></path><path style="fill:#8E959F;" d="M271.308,366.933h-85.333c-4.713,0-8.533-3.821-8.533-8.533s3.821-8.533,8.533-8.533h85.333
		c4.713,0,8.533,3.821,8.533,8.533S276.02,366.933,271.308,366.933z"></path><path style="fill:#8E959F;" d="M271.308,401.067h-85.333c-4.713,0-8.533-3.821-8.533-8.533s3.821-8.533,8.533-8.533h85.333
		c4.713,0,8.533,3.821,8.533,8.533S276.02,401.067,271.308,401.067z"></path><path style="fill:#8E959F;" d="M271.308,435.2h-85.333c-4.713,0-8.533-3.821-8.533-8.533s3.821-8.533,8.533-8.533h85.333
		c4.713,0,8.533,3.821,8.533,8.533S276.02,435.2,271.308,435.2z"></path></g>`,10),$t=[kt];function Dt(e,$){return i(),F("svg",Et,$t)}var Bt=K(zt,[["render",Dt]]);const At={__name:"AttachedFileDropdown",props:{file:{type:Object,default:null}},setup(e){const $=e;nt("utils"),Y(),tt();const x=W();function d(){window.open($.file.url)}return et(),at(),(a,D)=>{const m=z("BaseIcon"),w=z("BaseDropdownItem"),p=z("BaseDropdown");return i(),E(p,null,{activator:o(()=>[r(m,{class:"text-gray-500",name:"DotsHorizontalIcon"})]),default:o(()=>[_(x).hasAbilities(_(Z).VIEW_ESTIMATE)?(i(),F("div",{key:0,onClick:d},[r(w,null,{default:o(()=>[r(m,{name:"EyeIcon",class:"w-5 h-5 mr-3 text-gray-400 group-hover:text-gray-500"}),I(" "+l(a.$t("general.view")),1)]),_:1})])):k("",!0),_(x).hasAbilities(_(Z).EDIT_ESTIMATE_FILES)?(i(),E(w,{key:1,onClick:D[0]||(D[0]=y=>a.$emit("deleteFile"))},{default:o(()=>[r(m,{name:"TrashIcon",class:"w-5 h-5 mr-3 text-gray-400 group-hover:text-gray-500"}),I(" "+l(a.$t("general.delete")),1)]),_:1})):k("",!0)]),_:1})}}},St={class:"mt-6"},Tt={class:"text-sm font-semibold text-gray-800 dark:text-gray-100 mb-2"},Lt={key:0},Vt={class:"relative block cursor-pointer text-left w-full"},Pt=t("input",{type:"radio",name:"radio-buttons",class:"peer sr-only",checked:""},null,-1),Ht={class:"p-4 rounded-lg border border-gray-200 hover:border-gray-300 shadow-md transition bg-white"},jt={class:"grid grid-cols-12 items-center gap-3"},qt={class:"col-span-2 order-1 sm:order-none flex items-center space-x-4 p-2"},Ut={class:"col-span-7 order-2 sm:order-none text-left"},Nt={class:"text-sm font-medium text-gray-800 truncate"},Ot={class:"text-xs font-small text-gray-500 truncate"},Rt={class:"col-span-3 order-2 sm:order-none text-right"},Xt={key:1},Zt={key:2},Qt={class:"flex flex-col p-4 rounded-lg border border-gray-200 text-xs text-gray-400"},Kt={class:"w-full flex justify-center"},Wt={class:"text-center"},X={__name:"FileAttachedTo",props:{file:{type:Object,default:null},fileTitle:{type:String,default:"Archivo adjunto",required:!1},missingFileMessage:{type:String,default:"Archivo pendiente de ser cargado por el personal de facturaci\xF3n",required:!1},types:{type:String,default:".pdf"},modelType:{type:String,default:null,required:!0},modelId:{type:Number,default:null,required:!0},collection:{type:String,default:null,required:!0}},emits:["update-parent-model"],setup(e,{emit:$}){const x=W(),d=e,a=f(null),D=$;it(()=>{a.value=d.file});const m=v(()=>a.value!==null);function w(C){a.value=C[0]}function p(){axios.delete(u.value).then(C=>{a.value=null})}const y=v(()=>"/api/v1/"+d.modelType+"/"+d.modelId+"/files?collection="+d.collection),u=v(()=>"/api/v1/"+d.modelType+"/"+d.modelId+"/files/"+a.value.id),h=v(()=>d.modelId);return G(a,()=>{D("update-parent-model")}),G(h,C=>{a.value=d.file}),(C,S)=>{const B=z("BaseIcon");return i(),F("div",St,[t("div",Tt,l(e.fileTitle),1),m.value?(i(),F("div",Lt,[t("label",Vt,[Pt,t("div",Ht,[t("div",jt,[t("div",qt,[e.collection=="estimate_pdf"?(i(),E(xt,{key:0})):k("",!0),e.collection=="invoice_xml"?(i(),E(It,{key:1})):k("",!0),e.collection=="invoice_pdf"?(i(),E(Bt,{key:2})):k("",!0)]),t("div",Ut,[t("div",Nt,l(a.value.file_name),1),t("div",Ot,l(a.value.author.name),1)]),t("div",Rt,[r(At,{file:a.value,onDeleteFile:p},null,8,["file"])])])])])])):_(x).hasAbilities(_(Z).EDIT_ESTIMATE_FILES)?(i(),F("div",Xt,[r(ct,{accept:e.types,onChange:C.fileChange,onUpload:w,autoProcess:!0,uploadUrl:y.value,inputFieldName:"file",fileId:e.modelId},null,8,["accept","onChange","uploadUrl","fileId"])])):(i(),F("div",Zt,[t("label",Qt,[t("div",Kt,[r(B,{name:"ExclamationIcon",class:"h-6 mb-2 text-xl leading-6 text-gray-400 w-full"})]),t("p",Wt,l(e.missingFileMessage),1)])]))])}}},Gt={class:"sticky top-16 bg-gradient-to-b from-gray-100 to-white dark:from-[#151D2C] dark:to-gray-900 overflow-x-hidden overflow-y-auto no-scrollbar shrink-0 border-l border-gray-200 dark:border-gray-700/60 w-full sm:w-[calc(100dvw/2-128px)] 2xl:w-[calc(100dvw/3-80px)] h-[calc(100dvh-64px)]"},Jt=t("svg",{class:"fill-gray-400 group-hover:fill-gray-600 pointer-events-none",width:"16",height:"16",viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg"},[t("path",{d:"m7.95 6.536 4.242-4.243a1 1 0 1 1 1.415 1.414L9.364 7.95l4.243 4.242a1 1 0 1 1-1.415 1.415L7.95 9.364l-4.243 4.243a1 1 0 0 1-1.414-1.415L6.536 7.95 2.293 3.707a1 1 0 0 1 1.414-1.414L7.95 6.536Z"})],-1),Yt=[Jt],t3={class:"py-8 px-4 lg:px-8"},e3={class:"max-w-sm mx-auto lg:max-w-none"},a3={class:"text-gray-800 dark:text-gray-100 font-semibold text-center mb-1"},s3={class:"text-sm text-center italic"},l3={class:"drop-shadow-md mt-5"},n3={class:"bg-white dark:bg-gray-800 rounded-t-xl px-5 pb-2.5 text-center pt-5 flex items-center w-full"},i3={class:"w-1/3 text-left"},c3={class:"text-2xl font-semibold mb-1 text-right w-2/3"},o3=R('<div class="flex justify-between items-center" aria-hidden="true"><svg class="fill-white dark:fill-gray-800" width="20" height="20" xmlns="http://www.w3.org/2000/svg"><path d="M0 20c5.523 0 10-4.477 10-10S5.523 0 0 0h20v20H0Z"></path></svg><div class="grow w-full h-5 bg-white dark:bg-gray-800 flex flex-col justify-center"><div class="h-px w-full border-t border-dashed border-gray-200 dark:border-gray-700"></div></div><svg class="fill-white dark:fill-gray-800 rotate-180" width="20" height="20" xmlns="http://www.w3.org/2000/svg"><path d="M0 20c5.523 0 10-4.477 10-10S5.523 0 0 0h20v20H0Z"></path></svg></div>',1),r3={class:"bg-white dark:bg-gray-800 rounded-b-xl p-5 pt-2.5 text-sm space-y-3"},d3={class:"flex justify-between space-x-1"},h3=t("span",{class:"italic"},"Partida:",-1),u3={class:"font-medium text-gray-700 dark:text-gray-100 text-right"},m3={class:"flex justify-between space-x-1"},p3=t("span",{class:"italic"},"Producto:",-1),f3={class:"font-medium text-gray-700 dark:text-gray-100 text-right"},v3={class:"flex justify-between space-x-1"},y3=t("span",{class:"italic"},"Litros:",-1),g3={class:"font-medium text-gray-700 dark:text-gray-100 text-right"},_3={class:"flex justify-between space-x-1"},x3=t("span",{class:"italic"},"Precio Unitario:",-1),w3={class:"font-medium text-gray-700 dark:text-gray-100 text-right"},C3={__name:"EstimateItemDetail",props:{estimateItemDetailOpen:{type:Boolean,default:!1},estimateItem:{type:Object},estimateData:{type:Object,required:!0}},emits:["close-estimateitemdetail"],setup(e,{emit:$}){const{formatNumber:x,formatMoney:d}=lt,a=f(null),D=f(null),m=e,w=v(()=>m.estimateItem),p=v(()=>{var h;return["approved","done"].includes((h=m.estimateData)==null?void 0:h.status.slug)});function y(u){return u==null?void 0:u.toLocaleString("es-MX",{style:"currency",currency:"MXN"})}return(u,h)=>{var C,S,B,P,H,j,T,L,q,A,V,n,s,M,g,U,N,O,c;return i(),F("div",{ref_key:"panelContent",ref:a,class:st(["absolute inset-0 sm:left-auto z-20 shadow-xl transition-transform duration-200 ease-in-out",e.estimateItemDetailOpen?"translate-x-0":"translate-x-full"])},[t("div",Gt,[t("button",{ref_key:"closeBtn",ref:D,onClick:h[0]||(h[0]=ot(b=>u.$emit("close-estimateitemdetail"),["stop"])),class:"absolute top-0 right-0 mt-6 mr-6 group p-2"},Yt,512),t("div",t3,[t("div",e3,[t("div",a3,l((S=(C=e.estimateData)==null?void 0:C.customer)==null?void 0:S.rfc)+" "+l((P=(B=e.estimateData)==null?void 0:B.customer)==null?void 0:P.name),1),t("div",s3,"Solicita: "+l((j=(H=e.estimateData)==null?void 0:H.creator)==null?void 0:j.name),1),t("div",l3,[t("div",n3,[t("div",i3,[r(Q,{status:(T=e.estimateItem)==null?void 0:T.status,color:(L=e.estimateItem)==null?void 0:L.status_color,class:"px-3 py-1"},{default:o(()=>{var b;return[I(l((b=e.estimateItem)==null?void 0:b.status_name),1)]}),_:1},8,["status","color"])]),t("div",c3,l(y((q=e.estimateItem)==null?void 0:q.total)),1)]),o3,t("div",r3,[t("div",d3,[h3,t("span",u3,l(_(x)((A=e.estimateItem)==null?void 0:A.id)),1)]),t("div",m3,[p3,t("span",f3,l((V=e.estimateItem)==null?void 0:V.name),1)]),t("div",v3,[y3,t("span",g3,l(_(x)((n=e.estimateItem)==null?void 0:n.quantity)),1)]),t("div",_3,[x3,t("span",w3,l(_(d)((s=e.estimateItem)==null?void 0:s.precision_price,0,{itemPrecision:6})),1)])])]),r(X,{file:(M=w.value)==null?void 0:M.files.estimate,modelType:"estimate-items",modelId:(g=e.estimateItem)==null?void 0:g.id,types:".pdf",collection:"estimate_pdf",fileTitle:"Archivo Previa (PDF)",missingFileMessage:"Archivo pendiente de ser cargado por el personal de facturaci\xF3n",onUpdateParentModel:h[1]||(h[1]=b=>u.$emit("update-estimate-item"))},null,8,["file","modelId"]),p.value?(i(),E(X,{key:0,file:(U=w.value)==null?void 0:U.files.cfdi,modelType:"estimate-items",modelId:(N=e.estimateItem)==null?void 0:N.id,types:".xml",collection:"invoice_xml",fileTitle:"Factura XML (CFDi)",missingFileMessage:"Archivo pendiente de ser cargado por el personal de facturaci\xF3n",onUpdateParentModel:h[2]||(h[2]=b=>u.$emit("update-estimate-item"))},null,8,["file","modelId"])):k("",!0),p.value?(i(),E(X,{key:1,file:(O=w.value)==null?void 0:O.files.invoice,modelType:"estimate-items",modelId:(c=e.estimateItem)==null?void 0:c.id,types:".pdf",collection:"invoice_pdf",fileTitle:"Factura PDF",missingFileMessage:"Archivo pendiente de ser cargado por el personal de facturaci\xF3n",onUpdateParentModel:h[3]||(h[3]=b=>u.$emit("update-estimate-item"))},null,8,["file","modelId"])):k("",!0)])])])],2)}}},M3={class:"flex jusitfy-between items-center"},F3={class:"grow flex items-center justify-end"},b3={class:"relative table-container pt-5"},E3={__name:"View",setup(e){const{formatMoney:$,formatNumber:x}=lt;rt();const d=Y();tt(),W(),et();const a=f(null),D=dt();at(),f(!1),f(!1);const m=f(!1),w=f(null);f(1),f(1),f(null);const p=f(null),y=f(null),u=ht({orderBy:null,orderByField:null,searchText:null}),h=v(()=>[{key:"id",label:"Partida"},{key:"name",label:"Producto"},{key:"quantity",label:"Litros",thClass:"text-right",tdClass:"text-right"},{key:"precision_price",label:"Precio Unitario",thClass:"text-right",tdClass:"text-right"},{key:"total",label:"Total",thClass:"text-right",tdClass:"text-right"},{key:"status",label:"Estatus"}]),C=v(()=>"Previa: "+a.value.estimate_number),S=v(()=>{let n=a.value.status.slug,s=!0;switch(n){case"requested":s=B(["requested","changes"]);break;case"changes":s=B(["requested","changes"]);break}return!s});function B(n){var M;let s=0;return(M=a.value.items)==null||M.forEach(function(g){n.includes(g.status)&&s++}),s==0}v(()=>u.orderBy==="asc"||u.orderBy==null);const P=v(()=>{let n="Avanzar status";return y.value.action&&(n=y.value.label),n}),H=v(()=>typeof y.value!="undefined"&&y.value!==null),j=v(()=>{var s,M;let n=[];return(s=a.value.user_flow.next)==null||s.forEach(function(g){g.main&&(y.value=g),n.push(g)}),(M=a.value.user_flow.previous)==null||M.forEach(function(g){n.push(g)}),n});A(),V=ut.exports.debounce(V,500);async function T(n=null){y.value=null;let s=a.value;await d.updateStatus(s.id,n),A()}function L(n){p.value=n}function q(){p.value=null}async function A(n=!0){m.value=n;let s=await d.fetchEstimate(D.params.id);s.data&&(m.value=!1,a.value={...s.data.data})}async function V(){w.value=[],loadEstimates()}return(n,s)=>{const M=z("BaseButton"),g=z("BasePageHeader"),U=z("router-link"),N=z("BaseTable"),O=z("BasePage");return i(),F(mt,null,[a.value?(i(),E(O,{key:0,class:st({"sm:w-1/2 lg:w-2/3":p.value!==null})},{default:o(()=>[r(g,{title:C.value,class:"items-center"},{title:o(()=>[r(Q,{status:a.value.status.slug,color:a.value.status.color,size:"md",class:"px-3 py-1 flex-none"},{default:o(()=>[I(l(a.value.status.name),1)]),_:1},8,["status","color"])]),actions:o(()=>[t("div",M3,[t("div",F3,[H.value?(i(),E(M,{key:0,disabled:S.value,"content-loading":m.value,variant:"primary",class:"text-sm",onClick:s[0]||(s[0]=c=>{var b;return T((b=y.value)==null?void 0:b.action)})},{default:o(()=>[I(l(P.value),1)]),_:1},8,["disabled","content-loading"])):k("",!0),r(pt,{class:"ml-3",row:a.value,statusActions:j.value,onActionExecute:T},null,8,["row","statusActions"])])])]),_:1},8,["title"]),t("div",b3,[r(N,{data:a.value.items,columns:h.value,loading:m.value,actionRow:"openItemDetail",selectedRow:p.value,onOpenItemDetail:L},{"cell-id":o(({row:c})=>[r(U,{to:L,class:"font-medium text-primary-500"},{default:o(()=>[I(l(_(x)(c.data.id)),1)]),_:2},1024)]),"cell-name":o(({row:c})=>[I(l(c.data.name),1)]),"cell-quantity":o(({row:c})=>[I(l(_(x)(c.data.quantity)),1)]),"cell-precision_price":o(({row:c})=>[r(J,{amount:c.data.precision_price,precision:"6"},null,8,["amount"])]),"cell-total":o(({row:c})=>[r(J,{amount:c.data.total,onlyFormat:"true"},null,8,["amount"])]),"cell-status":o(({row:c})=>[r(Q,{status:c.data.status,color:c.data.status_color,class:"px-3 py-1"},{default:o(()=>[I(l(c.data.status_name),1)]),_:2},1032,["status","color"])]),_:1},8,["data","columns","loading","selectedRow"])])]),_:1},8,["class"])):k("",!0),r(C3,{estimateItemDetailOpen:p.value!==null,estimateItem:p.value,estimateData:a.value,onCloseEstimateitemdetail:q,onUpdateEstimateItem:s[1]||(s[1]=c=>A(!1))},null,8,["estimateItemDetailOpen","estimateItem","estimateData"])],64)}}};export{E3 as default};
