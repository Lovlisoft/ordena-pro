import{a8 as A,u as M,l as C,M as L,m as V,N as Y,I as j,a3 as z,r as m,o,j as s,h as a,x as e,a as r,Q as d,z as p,t as y,g}from"./main.6170b91d.js";import{u as U}from"./payment.88f2ded9.js";const R={__name:"PaymentIndexDropdown",props:{row:{type:Object,default:null},table:{type:Object,default:null},contentLoading:{type:Boolean,default:!1}},setup(i){const _=i,v=A(),I=M(),{t:c}=C(),k=U(),f=L(),B=V(),u=Y(),b=j(),D=z("utils");function N(t){v.openDialog({title:c("general.are_you_sure"),message:c("payments.confirm_delete",1),yesLabel:c("general.ok"),noLabel:c("general.cancel"),variant:"danger",size:"lg",hideNoButton:!1}).then(async n=>{if(n)return await k.deletePayment({ids:[t]}),B.push("/admin/payments"),_.table&&_.table.refresh(),!0})}function x(){var n;let t=`${window.location.origin}/payments/pdf/${(n=_.row)==null?void 0:n.unique_hash}`;D.copyTextToClipboard(t),I.showNotification({type:"success",message:c("general.copied_pdf_url_clipboard")})}async function E(t){b.openModal({title:c("payments.send_payment"),componentName:"SendPaymentModal",id:t.id,data:t,variant:"lg"})}return(t,n)=>{const l=m("BaseIcon"),P=m("BaseButton"),S=m("BaseDropdown-item"),w=m("BaseDropdownItem"),h=m("router-link"),T=m("BaseDropdown");return o(),s(T,{"content-loading":i.contentLoading},{activator:a(()=>[e(f).name==="payments.view"?(o(),s(P,{key:0,variant:"primary"},{default:a(()=>[r(l,{name:"DotsHorizontalIcon",class:"h-5 text-white"})]),_:1})):(o(),s(l,{key:1,name:"DotsHorizontalIcon",class:"h-5 text-gray-500"}))]),default:a(()=>[e(f).name==="payments.view"&&e(u).hasAbilities(e(d).VIEW_PAYMENT)?(o(),s(S,{key:0,class:"rounded-md",onClick:x},{default:a(()=>[r(l,{name:"LinkIcon",class:"w-5 h-5 mr-3 text-gray-400 group-hover:text-gray-500"}),p(" "+y(t.$t("general.copy_pdf_url")),1)]),_:1})):g("",!0),e(u).hasAbilities(e(d).EDIT_PAYMENT)?(o(),s(h,{key:1,to:`/admin/payments/${i.row.id}/edit`},{default:a(()=>[r(w,null,{default:a(()=>[r(l,{name:"PencilIcon",class:"w-5 h-5 mr-3 text-gray-400 group-hover:text-gray-500"}),p(" "+y(t.$t("general.edit")),1)]),_:1})]),_:1},8,["to"])):g("",!0),e(f).name!=="payments.view"&&e(u).hasAbilities(e(d).VIEW_PAYMENT)?(o(),s(h,{key:2,to:`/admin/payments/${i.row.id}/view`},{default:a(()=>[r(w,null,{default:a(()=>[r(l,{name:"EyeIcon",class:"w-5 h-5 mr-3 text-gray-400 group-hover:text-gray-500"}),p(" "+y(t.$t("general.view")),1)]),_:1})]),_:1},8,["to"])):g("",!0),i.row.status!=="SENT"&&e(f).name!=="payments.view"&&e(u).hasAbilities(e(d).SEND_PAYMENT)?(o(),s(w,{key:3,onClick:n[0]||(n[0]=$=>E(i.row))},{default:a(()=>[r(l,{name:"PaperAirplaneIcon",class:"w-5 h-5 mr-3 text-gray-400 group-hover:text-gray-500"}),p(" "+y(t.$t("payments.send_payment")),1)]),_:1})):g("",!0),e(u).hasAbilities(e(d).DELETE_PAYMENT)?(o(),s(w,{key:4,onClick:n[1]||(n[1]=$=>N(i.row.id))},{default:a(()=>[r(l,{name:"TrashIcon",class:"w-5 h-5 mr-3 text-gray-400 group-hover:text-gray-500"}),p(" "+y(t.$t("general.delete")),1)]),_:1})):g("",!0)]),_:1},8,["content-loading"])}}};export{R as _};
