import{a3 as S,ab as k,I as x,u as T,a8 as A,N as $,l as N,M,m as j,r as l,o as s,j as n,h as t,x as a,a as r,Q as p,z as f,t as _,g as y}from"./main.ae77f388.js";const V={__name:"EstimateIndexDropdown",props:{row:{type:Object,default:null},table:{type:Object,default:null}},setup(i){const h=i;S("utils");const w=k();x(),T();const v=A(),d=$(),{t:c}=N(),E=M(),B=j();async function b(o){v.openDialog({title:c("general.are_you_sure"),message:c("estimates.confirm_delete"),yesLabel:c("general.ok"),noLabel:c("general.cancel"),variant:"danger",hideNoButton:!1,size:"lg"}).then(u=>{o=o,u&&w.deleteEstimate({ids:[o]}).then(e=>{e&&(h.table&&h.table.refresh(),e.data&&B.push("/admin/estimates"),w.$patch(m=>{m.selectedEstimates=[],m.selectAllField=!1}))})})}return(o,u)=>{const e=l("BaseIcon"),m=l("BaseButton"),g=l("BaseDropdownItem"),I=l("router-link"),D=l("BaseDropdown");return s(),n(D,null,{activator:t(()=>[a(E).name==="estimates.view"?(s(),n(m,{key:0,variant:"primary"},{default:t(()=>[r(e,{name:"DotsHorizontalIcon",class:"text-white"})]),_:1})):(s(),n(e,{key:1,class:"text-gray-500",name:"DotsHorizontalIcon"}))]),default:t(()=>[a(d).hasAbilities(a(p).EDIT_ESTIMATE)?(s(),n(I,{key:0,to:`/admin/estimates/${i.row.id}/edit`},{default:t(()=>[r(g,null,{default:t(()=>[r(e,{name:"PencilIcon",class:"w-5 h-5 mr-3 text-gray-400 group-hover:text-gray-500"}),f(" "+_(o.$t("general.edit")),1)]),_:1})]),_:1},8,["to"])):y("",!0),a(d).hasAbilities(a(p).DELETE_ESTIMATE)?(s(),n(g,{key:1,onClick:u[0]||(u[0]=z=>b(i.row.id))},{default:t(()=>[r(e,{name:"TrashIcon",class:"w-5 h-5 mr-3 text-gray-400 group-hover:text-gray-500"}),f(" "+_(o.$t("general.delete")),1)]),_:1})):y("",!0),a(E).name!=="estimates.view"&&a(d).hasAbilities(a(p).VIEW_ESTIMATE)?(s(),n(I,{key:2,to:`estimates/${i.row.id}/view`},{default:t(()=>[r(g,null,{default:t(()=>[r(e,{name:"EyeIcon",class:"w-5 h-5 mr-3 text-gray-400 group-hover:text-gray-500"}),f(" "+_(o.$t("general.view")),1)]),_:1})]),_:1},8,["to"])):y("",!0)]),_:1})}}};export{V as _};
