import{a3 as D,ab as A,I as B,u as T,a8 as $,N as C,l as N,M,m as j,r as m,o as r,j as d,h as a,a as s,c as I,F as L,i as V,z as g,t as f,x as n,Q as p,g as h}from"./main.fa881b19.js";const z=["onClick"],R={__name:"EstimateIndexDropdown",props:{statusActions:{type:Array,default:null,required:!1},row:{type:Object,default:null},table:{type:Object,default:null}},setup(l){const E=l;D("utils");const _=A();B(),T();const v=$(),y=C(),{t:u}=N(),b=M(),k=j();async function x(e){v.openDialog({title:u("general.are_you_sure"),message:u("estimates.confirm_delete"),yesLabel:u("general.ok"),noLabel:u("general.cancel"),variant:"danger",hideNoButton:!1,size:"lg"}).then(c=>{e=e,c&&_.deleteEstimate({ids:[e]}).then(t=>{t&&(E.table&&E.table.refresh(),t.data&&k.push("/admin/estimates"),_.$patch(o=>{o.selectedEstimates=[],o.selectAllField=!1}))})})}return(e,c)=>{const t=m("BaseIcon"),o=m("BaseDropdownItem"),w=m("router-link"),S=m("BaseDropdown");return r(),d(S,null,{activator:a(()=>[s(t,{class:"text-gray-500",name:"DotsHorizontalIcon"})]),default:a(()=>[(r(!0),I(L,null,V(l.statusActions,i=>(r(),I("div",{key:i.action,onClick:F=>e.$emit("actionExecute",i.action)},[s(o,null,{default:a(()=>[s(t,{name:i.icon,class:"w-5 h-5 mr-3 text-gray-400 group-hover:text-gray-500"},null,8,["name"]),g(" "+f(i.label),1)]),_:2},1024)],8,z))),128)),n(y).hasAbilities(n(p).EDIT_ESTIMATE)?(r(),d(w,{key:0,to:`/admin/estimates/${l.row.id}/edit`},{default:a(()=>[s(o,null,{default:a(()=>[s(t,{name:"PencilIcon",class:"w-5 h-5 mr-3 text-gray-400 group-hover:text-gray-500"}),g(" "+f(e.$t("general.edit")),1)]),_:1})]),_:1},8,["to"])):h("",!0),n(y).hasAbilities(n(p).DELETE_ESTIMATE)?(r(),d(o,{key:1,onClick:c[0]||(c[0]=i=>x(l.row.id))},{default:a(()=>[s(t,{name:"TrashIcon",class:"w-5 h-5 mr-3 text-gray-400 group-hover:text-gray-500"}),g(" "+f(e.$t("general.delete")),1)]),_:1})):h("",!0),n(b).name!=="estimates.view"&&n(y).hasAbilities(n(p).VIEW_ESTIMATE)?(r(),d(w,{key:2,to:`estimates/${l.row.id}/view`},{default:a(()=>[s(o,null,{default:a(()=>[s(t,{name:"EyeIcon",class:"w-5 h-5 mr-3 text-gray-400 group-hover:text-gray-500"}),g(" "+f(e.$t("general.view")),1)]),_:1})]),_:1},8,["to"])):h("",!0)]),_:1})}}};export{R as _};
